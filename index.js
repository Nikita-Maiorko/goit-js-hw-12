import{S as w,i}from"./assets/vendor-BrddEoy-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const v="54466300-85ed7471cb23a14c1c7224587",S="https://pixabay.com/api/",E=15;async function y(n,t=1){const r=`${S}?key=${v}&q=${encodeURIComponent(n)}&image_type=photo&orientation=horizontal&per_page=${E}&page=${t}`;try{const s=await fetch(r);if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);return await s.json()}catch(s){throw console.error("Помилка при запиті до Pixabay API:",s),s}}const h=document.querySelector(".gallery"),g=document.querySelector(".load-more"),p=document.querySelector(".loader"),P=new w(".gallery a",{captionsData:"alt",captionDelay:250});function L(n){const t=n.map(r=>`
      <a href="${r.largeImageURL}">
        <img src="${r.webformatURL}" alt="${r.tags}" loading="lazy" />
      </a>`).join("");h.insertAdjacentHTML("beforeend",t),P.refresh()}function $(){h.innerHTML=""}function b(){p.classList.add("visible")}function c(){p.classList.remove("visible")}function q(){g.classList.add("visible")}function u(){g.classList.remove("visible")}const m=document.querySelector("#search-form"),B=document.querySelector(".load-more");let d="",a=1,f=0;m.addEventListener("submit",async n=>{n.preventDefault();const t=m.searchQuery.value.trim();if(t){d=t,a=1,$(),u(),b();try{const r=await y(d,a);if(f=r.totalHits,r.hits.length===0){i.info({title:"No results",message:"No images found."}),c();return}L(r.hits),c(),f>a*15?q():(u(),i.info({title:"End",message:"We're sorry, but you've reached the end of search results."}))}catch{c(),i.error({title:"Error",message:"Something went wrong."})}}});B.addEventListener("click",async()=>{a+=1,b();try{const n=await y(d,a);L(n.hits),c();const t=document.querySelector(".gallery a").getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"}),a*15>=f&&(u(),i.info({title:"End",message:"We're sorry, but you've reached the end of search results."}))}catch{c(),i.error({title:"Error",message:"Something went wrong."})}});
//# sourceMappingURL=index.js.map
